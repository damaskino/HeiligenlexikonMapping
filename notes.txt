--------
Stats
--------
33481 entries



Assumptions about terms:
Basically there are three elements in each term, only the name, the first term, is guaranteed to appear.
Otherwise it can be a combination of all three or 1st+2nd and 1st+3rd

First Element is the name of the saint, some terms only have the name as a single element

Second Element the "level of holiness" aka the canonization status S. B. V. or variations thereof, like S.S. and V.V.

Third element if it exists: if it's in brackets and contains a number is the n-th saint of the same name

There is some variation how these are separated. If a canonization is present, it is separated by a comma.

#To verify/check
Is the name always a single word? - Nope, see Johannes Vogelsang, Johannes de Palafox, try comma as separator instead
How many saints are, S, B, V or have no canonization status?
Is there a strong correlation between canonization status and the amount of text in the entry?


Are these jobs?
Presb.,
Erem.->Eremit = Hermit, debatable

There are some errors where Mai) is Mail most likely an error in the source data

TODO:
add gender - REVIEWING
add more occupations to the list, potentially from wiki
limit where we look for the occupation to the first sentence in the first paragraph
parse with stanford and or spacy - DONE
upload to github - DONE
-Feast Day: parse date into readable format, add alternative feast days - DONE
-alternative names, with minimum edit distance where possible, - DONE
-stanford nlp tokenizer to tokenize properly - DONE
-remove superscript numbers - DONE
- Optional: Look for potential alternative for determining gender, stanza is very resource hungry for something that should only amount to a dict lookup
-"auch" and hi rend italics could be a possible markers - DONE

-check how fuzzy ratio is determined -DONE
it boils down to 1-(Levenshtein/(len(string1)+len(string2))) and making a rounded percentage of that

-when done, stratified random sampling for 100 entries
    - length of article
    --> need to add length of article - DONE
    - saints only
-draft for status presentation


- compile list of issues when manually mapping entries from gold standard to wikipedia
- birth and death date if available, associated locations, potentially family relations
- accuracy for processing of gold standard
- character position for extractions like feast day, occupation
    wikidata, vs. pages of different languages,
    latin vs. local name
- presentation draft before December
- mail second assessor - DONE
- till 19.1. parse wikidata
- Gold standard presentation:
    - Id Entry
    links erste paragraph von heiligenlexikon
    rechts erste paragraph der wikipediaseite
    - Separate Entries that could not be found
- limit search to full wikipedia entry pages/data only no mentions on
- Use Wikidata with canonization status only
- Rulebased baseline and gold standard by mid february
- Formally write down search method for finding saints manually and creation of gold standard
- Double size of goldstandard to include more
- Create subset of dump


Manual mapping attempts
d3e100677Heiligenlexikon-1858 Basilius
First result is another Basilius (feast days don't match up)
https://de.wikipedia.org/wiki/Basilius_der_Gro%C3%9Fe

Googling 23rd may
brings up this:
https://web.archive.org/web/20111012033504/http://breviary.net/martyrology/mart05/mart0523.htm
it also mentions  S. Epictitus (Epitacius), though it's not clear from the lex entry what their relation was, the web page states

https://en.wikipedia.org/wiki/May_23_(Eastern_Orthodox_liturgics)#cite_note-ROMAN-12
Here it mentions Basileus as the Bishop of Braga, who seems to have lived 60-95
https://en.wikipedia.org/wiki/Roman_Catholic_Archdiocese_of_Braga#List_of_Bishops_of_Braga
He doesn't have his own page but he is listed in the list of bishops of Braga
Under the name Basilo(!), the date matches, but it is Portugal and not Spain as mentioned in the article
--> Saint doesn't even seem to have his own page in German wikipedia
--> Didn't find him under Basilius, but the regional equivalent Basilo
--> Different country, possible mixup?
https://www.wikiwand.com/pt/Bas%C3%ADlio_de_Braga Death date matches, but birth date is earlier?
https://pt.wikipedia.org/wiki/Bas%C3%ADlio_de_Braga
Portuguese Wiki has some more info


d3e112649Heiligenlexikon-1858 - Bernardus
https://www.catholic-hierarchy.org/diocese/dv513.html
https://www.catholic-hierarchy.org/bishop/bbernardv.html
https://de.wikipedia.org/wiki/Liste_der_Erzbisch%C3%B6fe_von_Vienne
--> Country of origin is more likely to have a page on them
https://fr.wikipedia.org/wiki/Liste_des_%C3%A9v%C3%AAques_et_archev%C3%AAques_de_Vienne_(France)
https://fr.wikipedia.org/wiki/Barnard_de_Romans
-->Feast day is off by one day, 22nd instaed of 23rd on wikipedia, birthplace doesnt match, Wiki says Izernore, Lex says Lyon
Death date matches, both mention 32 years as archbishop,
Lex: father also bernard, mother Helirda
Wiki: Father is Heliarde


d3e131933Heiligenlexikon-1858 Cajus
http://www.orthodoxengland.org.uk/stdjun.htm
https://en.wikipedia.org/wiki/June_30_(Eastern_Orthodox_liturgics)#cite_note-LATIN-17
https://archive.org/stream/romanmartyrology00cathuoft/romanmartyrology00cathuoft_djvu.txt

d3e175831Heiligenlexikon-1858 Crecens
https://en.wikipedia.org/wiki/November_28_(Eastern_Orthodox_liturgics)#cite_note-LATIN-24
https://catholicsaints.info/saint-crescens-of-north-africa/
https://de.wikipedia.org/wiki/Geiserich
Differing feast days depending on Orthodoxy or Catholicism
July 30 (Orthodoxy)
June 27 (Catholicism)


d3e185972Heiligenlexikon Cyvranus
https://en.wikipedia.org/wiki/December_9_(Eastern_Orthodox_liturgics)#cite_note-LATIN-19
Had another feast day for 25th of june, but couldn't find anything under that one

d3e194115Heiligenlexikon-1858	Demetrius
https://en.wikipedia.org/wiki/November_15_(Eastern_Orthodox_liturgics)#cite_note-7
https://en.wikipedia.org/wiki/Hippo_Regius
https://www.heiligenlexikon.de/BiographienZ/20_Maertyrer_Hippo_Regius.html


d3e218454Heiligenlexikon-1858	Ealredus
https://en.wikipedia.org/wiki/Aelred_of_Rievaulx
Patronage	bladder stone sufferers lol
S. Aelredus . (Bd. I. S. 53.)
Okay in this case the entry refers to another entry which is also the same person, huh

limit Birthdate cutoff after end of publishing date of lexicon
2 versions: 1 with humans, 1 with saints (has canonization status)
primitive baseline (feast day + name(edit distance, cutoff proportional to length of string, on devset))
document statistics of the datasets


Check if devset items available in wikidata - DONE, all available
Check if devset item has no canonization status -
    DONE, all devset items have a canonization status Property in the wikidata entry
Check if devset item has no german wikipedia page -
    DONE, the following have no german wikipedia page
    https://en.wikipedia.org/wiki/Mercurialis_of_Forl%C3%AC
    https://en.wikipedia.org/wiki/Gerontius_(bishop_of_Milan)
    https://fr.wikipedia.org/wiki/Etton_de_Dompierre_sur_Helpe
    https://en.wikipedia.org/wiki/Cwenburh


-Further filtering for humans:
    - cutoff date Watch out for edition date
    - Check if entry has some spiritual occupation
Name matching/alias 2 versions
    -strict match - DONE
    - potentially without function/stop words, potentially only first name
    -minimum edit distance - DONE
Until next time: Table with matched entries - DONE


#Keep count of name matches
#add edit distance
for name in hlex_names (name+aliase)
	for wiki_name in wiki_names (label+alias)
		if name == wiki_name:
			return name_match
#Only check feast day if multiple name_matches
for feast_day in hlex_feast



if no match calculate into accuracy
Later: precision + recall
how many non-null matches are correct
try substituting names with accents to letters without accents
#table with: goldstandard-match, algorithmus-match

100 threshold needs more precision, make feast day mandatory - DONE

check false positives, some need to be added to gold standard, DONE
e.g. https://www.wikidata.org/wiki/Q3855701, Q3340821

For debugging: Add the name(s) that were determined to be matching

- Baseline fixed, run on all data

- Supervised:

create "wholeset" (all data minus dev and goldstandard) - DONE

- using bm25 score as threshold
              - learn supervised
              use matched saints as training data (ignore saints that didn't get a match)
                find non-matching saints for the matched saints only
                limit unmatched to plausibly similar saints, e.g. gender matches
              - must abstract away from strict name and feast day matching
              - find a more general way to match, like similarity of description texts
              - e.g. encode texts into vectors and find threshold

Isolated false dates and resolved those
next steps: include date resolution and validation back into the preprocessing step to gain potentially ~200 more entries
assign false matches to training set for supervised training

For negative examples, go beyond wholeset, use same name, potentially same feast day
training_set can be 50/50

For experiments:
- Maybe use more similar entries for H2
- ensure 50/50 balance of positives and negatives, e.g. maybe add all candidates with the same name
- embedding of text in SBERT, define similarity cutoff point

Steps since last time:
- Wikipedia pages extracted
- Sentence Transformer first attempts


Get Threshold from training data -> Supervised because we get threshold from
-> Can we get a good threshold from the training data that separates negative and positive examples well?
-> Limit search space, gender, roughly same century,
-> Limit search on Wikipedia text to initial paragraph

Use German sbert model or try multilingual
https://arxiv.org/abs/2004.09813
- Questions:How to use sbert further? How to include other features?
For other supervised method, potentially include SBERT, similarity as feature
- What to do if other languages do not exist?
- Wikipedia Texts from dumps instead of through API?
- Make statistics for matches per wiki languages for each saint

TRAINING
- look into using the other languages
- check if current embedding model works, look into the paper
- make script for determining good cut off point - DONE
- doublecheck if paraphrase-multilingual-MiniLM-L12-v2 covers all languages